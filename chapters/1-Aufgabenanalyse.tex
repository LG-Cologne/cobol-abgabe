\chapter{Aufgabenanalyse}\label{ch:aufgabenanalyse}


\section{Interpretation der Aufgabe}\label{sec:interpretation-der-aufgabe}
Im Rahmen des COBOL-Kurses besteht die Aufgabe, ein Programm zu entwickeln, welches Abbrechnungsdaten aus einem Journal einliest und auswertet.\\
\noindent
Das Journal ist eine Textdatei, die zeilenweise Abbrechnungen auflistet. Teil einer Abbrechnung sind: 

\begin{table}[h]
    \centering
    \begin{tabular}{|l|l|l|l|l|}
        Datum & Kunden-ID & Leistungs-ID & Einzelpreis & Anzahl
    \end{tabular}
    \caption{Struktureller Aufbau einer Abbrechnungszeile}
\end{table}

\noindent
\\
Die KundenID besteht dabei aus einem führenden \enquote{K} folgend von einer fünf-stelligen Nummer.\\
Die LeistungsID besteht aus sechs Ziffern.\\
Das Datum ist im Format \enquote{JJJJ.MM.TT} angegeben, spielt für die Rechnung jedoch keine relevante Rolle.\\
Der Einzelpreis besitzt immer zwei Nachkommastellen und ist in Euro angegeben.\\
Die Anzahl ist eine ganze Zahl bis maximal 99.\\
\\
Das einzulesende Journal ist bereits mach Kunden-ID und Leistungs-ID vorsortiert.
\\
\\
Für jeden erkannten Kunden soll nun ausgewertet werden, welche Leistungen in Anspruch genommen wurden und wie viel diese gekostet haben.
\\
Abschließend soll eine Rechnung erstellt werden, welche die Gesamtkosten eines Kunden zusammenfasst. Dabei wird die Rechnung für den Kunden mit der Kunden-ID gekennzeichnet. Folgend wird eine Tabellenstruktur ausgegeben, welche die einzelnen Leistungen mit seinen Zusatzinformationen auflistet. Eine Leistungzeile besteht dabei aus folgenden Spalten:\\

\begin{table}[h]
    \centering
    \begin{tabular}{|l|l|l|l|l|l|}
        Position & Leistungs-ID & Bezeichnung der Leistung & Anzahl & Einzelpreis & Gesamtpreis
    \end{tabular}
    \caption{Abrechnungszeile}
\end{table}

Die Position ist eine Inkrementierung der Leistungen für einen Kunden.\\
Leistungs-ID, Anzahl und Einzelpreis werden direkt aus dem Journal übernommen. Der Gesamtpreis ergibt sich aus der Multiplikation von Anzahl und Einzelpreis.\\
Die Bezeichnungen der Leistungen sind in einer externen Datei abgelegt. Diese Glossar beinhaltet zu allen bekannten Leistungs-IDs eine passende Bezeichnung\\
\\
Abschließend werden aus allen erhobenen Leistungen und derem Gesamtpreis die Gesamtkosten des Kunden berechnet und ausgegeben.\\
\\
Die Rechnungen aller Kunden sollen voneinander getrennt in einer einzelnen Rechnungsdatei gemeinsam abgespeichert werden.\\


\section{Anforderung an das Programm}\label{sec:anforderung-an-das-programm}
Aus der~\nameref{ch:aufgabenstellung}~geht hervor, dass das Programm folgenden Anforderungen genügen muss:

Es muss
\begin{itemize}[noitemsep]
    \item Ein Journal zeilenweise einlesen
    \item Die genutzten Leistungen für jeden Kunden ermitteln
    \item Aus den Leistungen die Gesamtkosten für jeden Kunden ermitteln
    \item Für jeden Kunden eine Rechnung erstellen
    \item Die Rechnungen in einer Rechnungsdatei speichern
\end{itemize}
können.
Zusätzlich sollte das Programm eine angemessene Laufzeit haben und geeignete Datenstrukturen verwenden.